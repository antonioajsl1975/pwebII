<!DOCTYPE html>

<html th:replace="~{fragments/layout :: layout(~{::head},~{::main})}">

<head th:replace="~{fragments/head :: head('Lista de Vendas', ~{})}">
    <title>Lista de Vendas</title>
</head>

<body>
<main>
    <div class="container mt-5">
        <h2>Lista de Vendas</h2>
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th>Id</th>
                <th>Data</th>
                <th>Cliente</th>
                <th>Total</th>
                <th>Detalhes</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="venda : ${vendas}">
                <td th:text="${venda.id}"></td>
                <td th:text="${#temporals.format(venda.dataVenda, 'dd/MM/yyyy HH:mm:ss')}"></td>
                <td th:text="${venda.pessoa.getNomeOuRazaoSocial()}"></td>
                <td th:text="${#numbers.formatCurrency(venda.totalVenda())}"></td>
                <td>
                    <a th:href="@{/venda/detail/{id}(id=${venda.id})}" class="btn btn-primary" style="cursor: pointer;">itens</a>
                </td>
            </tr>
            </tbody>
        </table>
        <button class="btn btn-outline-success" th:onclick="|window.location.href='/venda/form'|">Nova Venda</button>
    </div>
</main>
</body>
</html>